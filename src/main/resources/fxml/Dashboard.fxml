<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>

<VBox spacing="20" style="-fx-padding: 25; -fx-background-color: #f8f9fa;" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.badargadh.sahkar.controller.DashboardController">
    <children>
        <Label text="Society Financial Overview" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
        
        <HBox spacing="15" alignment="TOP_LEFT">
            <children>
            
            	<VBox styleClass="stat-card" prefWidth="220" style="-fx-background-color: #27ae60; -fx-padding: 20; -fx-background-radius: 10;">
                    <Label text="Active Members" style="-fx-text-fill: white; -fx-font-size: 14;"/>
                    <Label fx:id="lblActiveMembers" text="0" style="-fx-text-fill: white; -fx-font-size: 22; -fx-font-weight: bold;"/>
                </VBox>
                
                <VBox styleClass="stat-card" prefWidth="220" style="-fx-background-color: #3498db; -fx-padding: 20; -fx-background-radius: 10;">
                    <Label text="Total Society Fees" style="-fx-text-fill: white; -fx-font-size: 14;"/>
                    <Label fx:id="lblTotalFees" text="₹ 0.00" style="-fx-text-fill: white; -fx-font-size: 22; -fx-font-weight: bold;"/>
                </VBox>
                
                <VBox styleClass="stat-card" prefWidth="220" style="-fx-background-color: #ffc107; -fx-padding: 20; -fx-background-radius: 10;">
                    <Label text="Active Loans" style="-fx-text-fill: white; -fx-font-size: 14;"/>
                    <Label fx:id="lblActiveLoans" text="0" style="-fx-text-fill: white; -fx-font-size: 22; -fx-font-weight: bold;"/>
                </VBox>
                
                <VBox styleClass="stat-card" prefWidth="220" style="-fx-background-color: #e74c3c; -fx-padding: 20; -fx-background-radius: 10;">
                    <Label text="Total Pending Amount" style="-fx-text-fill: white; -fx-font-size: 14;"/>
                    <Label fx:id="lblTotalPending" text="₹ 0.00" style="-fx-text-fill: white; -fx-font-size: 22; -fx-font-weight: bold;"/>
                </VBox>
                
                
            </children>
        </HBox>
        
        <VBox spacing="20">
		    <Label text="Total Count By EMI Amount" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
		
		    <ScrollPane fitToHeight="true" minHeight="130" prefHeight="140" 
		                style="-fx-background-color: transparent; -fx-background: transparent; -fx-border-color: transparent;">
		        <content>
		            <HBox spacing="15" fx:id="emiCardContainer" alignment="TOP_LEFT" style="-fx-padding: 5;">
		                </HBox>
		        </content>
		    </ScrollPane>
		</VBox>

        <HBox spacing="20" VBox.vgrow="ALWAYS">
            <children>
                <VBox spacing="10" HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 15; -fx-background-radius: 10; -fx-border-color: #dee2e6;">
                    <Label text="Loans Granted (Monthly Trend)" style="-fx-font-weight: bold;"/>
                    <BarChart fx:id="chartLoansByMonth">
                        <xAxis><CategoryAxis label="Month" /></xAxis>
                        <yAxis><NumberAxis label="Number of Loans" /></yAxis>
                    </BarChart>
                </VBox>
            </children>
        </HBox>

    </children>
</VBox>