<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" 
    name="MonthlyStatement" pageWidth="595" pageHeight="842" columnWidth="535" 
    leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" 
    isSummaryWithPageHeaderAndFooter="true">
	
	<property name="net.sf.jasperreports.default.font.name" value="Noto Sans Gujarati"/>

    <parameter name="monthName" class="java.lang.String"/>
    <parameter name="openingBal" class="java.lang.Integer"/>
    <parameter name="closingBal" class="java.lang.Integer"/>
    <parameter name="totalInflow" class="java.lang.Integer"/>
    <parameter name="totalOutflow" class="java.lang.Integer"/>
    <parameter name="newMemberFee" class="java.lang.Integer"/>
    <parameter name="monthlyFee" class="java.lang.Integer"/>
    <parameter name="loanDeduction" class="java.lang.Integer"/>
    <parameter name="totalEmi" class="java.lang.Integer"/>
    <parameter name="emiBreakdownString" class="java.lang.String"/>
    <parameter name="fullPaymentAmount" class="java.lang.Integer"/>
    <parameter name="expenseCredit" class="java.lang.Integer"/>
    <parameter name="totalLoanGranted" class="java.lang.Integer"/>
    <parameter name="totalFeeRefund" class="java.lang.Integer"/>
    <parameter name="expenseDebit" class="java.lang.Integer"/>
    <parameter name="TableSubreportObject" class="net.sf.jasperreports.engine.JasperReport"/>
    <parameter name="NewMembersData" class="java.util.List"/>
    <parameter name="FullPaymentsData" class="java.util.List"/>
    <parameter name="PrevMonthLoansData" class="java.util.List"/>
    <parameter name="NewLoansData" class="java.util.List"/>
    <parameter name="RefundsData" class="java.util.List"/>
    <parameter name="CancelledMembersData" class="java.util.List"/>

    <title>
        <band height="115">
            <staticText>
                <reportElement x="0" y="0" width="535" height="25"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Noto Sans Gujarati" size="18" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                </textElement>
                <text><![CDATA[સહકાર સોસાયટી બાદરગઢ]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="25" width="535" height="20"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Noto Sans Gujarati" size="13" isBold="false" isUnderline="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                </textElement>
                <text><![CDATA[માસિક રોકડ સ્ટેટમેન્ટ]]></text>
            </staticText>
            <textField>
                <reportElement x="0" y="45" width="535" height="15" forecolor="#000000"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Noto Sans Gujarati" size="11" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{monthName}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="0" y="75" width="535" height="25">
                    <propertyExpression name="net.sf.jasperreports.style.forecolor"><![CDATA[$P{openingBal} < 0 ? "#FF0000" : "#006400"]]></propertyExpression>
                </reportElement>
                <textElement verticalAlignment="Middle">
                    <font fontName="Noto Sans Gujarati" size="16" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                </textElement>
                <textFieldExpression><![CDATA["ગત મહીના ની બી પુરાંત : ₹ " + ($P{openingBal} != null ? $P{openingBal} : 0) + "/-"]]></textFieldExpression>
            </textField>
        </band>
    </title>

    <summary>
        <band height="650" splitType="Stretch">
            <frame>
                <reportElement x="0" y="0" width="535" height="225"/>
                <box><topPen lineWidth="1.0"/><bottomPen lineWidth="1.0"/></box>
                
                <staticText>
                    <reportElement x="0" y="5" width="267" height="25"/>
                    <box bottomPadding="2"><bottomPen lineWidth="1.0"/></box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font fontName="Noto Sans Gujarati" size="12" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    </textElement>
                    <text><![CDATA[મહીના ની આવક]]></text>
                </staticText>
                <staticText>
                    <reportElement x="268" y="5" width="267" height="25"/>
                    <box bottomPadding="2"><bottomPen lineWidth="1.0"/></box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font fontName="Noto Sans Gujarati" size="12" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                    </textElement>
                    <text><![CDATA[મહીના ની જાવક]]></text>
                </staticText>

                <textField>
                    <reportElement x="5" y="45" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["નવીન મેમ્બર ટોટલ ફીસ"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement x="160" y="45" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{newMemberFee}]]></textFieldExpression>
                </textField>

                <textField>
                    <reportElement x="5" y="60" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["મહીના ની કુલ ફીસ આવક"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement x="160" y="60" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{monthlyFee}]]></textFieldExpression>
                </textField>

                <textField>
                    <reportElement x="5" y="75" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["નવીન મેમ્બર ફીસ કપાત"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement x="160" y="75" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{loanDeduction}]]></textFieldExpression>
                </textField>

                <textField>
                    <reportElement x="5" y="90" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["માસીક હફ્તા ની કુલ આવક"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement x="160" y="90" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{totalEmi}]]></textFieldExpression>
                </textField>

                <textField textAdjust="StretchHeight">
                    <reportElement x="15" y="105" width="245" height="12" forecolor="#000000"/>
                    <textElement><font fontName="Noto Sans Gujarati" size="8" isItalic="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{emiBreakdownString}]]></textFieldExpression>
                </textField>

                <textField>
                    <reportElement positionType="Float" x="5" y="120" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["ફુલ પેમેન્ટસ"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement positionType="Float" x="160" y="120" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{fullPaymentAmount}]]></textFieldExpression>
                </textField>

                <textField>
                    <reportElement positionType="Float" x="5" y="135" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["બીજી આવક (જમા)"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement positionType="Float"  x="160" y="135" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{expenseCredit}]]></textFieldExpression>
                </textField>

                <line><reportElement x="267" y="0" width="1" height="225"/></line>

                <textField>
                    <reportElement x="275" y="45" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["લોન ની જાવક"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement x="430" y="45" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{totalLoanGranted}]]></textFieldExpression>
                </textField>

                <textField>
                    <reportElement x="275" y="60" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["કુલ ફીસ રીફંડ"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement x="430" y="60" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{totalFeeRefund}]]></textFieldExpression>
                </textField>

                <textField>
                    <reportElement x="275" y="75" width="150" height="15"/>
                    <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA["બીજી જાવક (ઉધાર)"]]></textFieldExpression>
                </textField>
                <textField pattern="₹ #,##0">
                    <reportElement x="430" y="75" width="100" height="15"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/></textElement>
                    <textFieldExpression><![CDATA[$P{expenseDebit}]]></textFieldExpression>
                </textField>

                <frame>
			        <reportElement positionType="FixRelativeToBottom" x="0" y="200" width="535" height="25"/>
			        <box>
			            <topPen lineWidth="1.0"/>
			        </box>
			        
			        <textField>
			            <reportElement x="5" y="0" width="255" height="25"/>
			            <textElement textAlignment="Right" verticalAlignment="Middle">
			                <font fontName="Noto Sans Gujarati" size="12" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
			            </textElement>
			            <textFieldExpression><![CDATA["કુલ આવક : ₹ " + $P{totalInflow}]]></textFieldExpression>
			        </textField>
			
			        <textField>
			            <reportElement x="275" y="0" width="255" height="25"/>
			            <textElement textAlignment="Right" verticalAlignment="Middle">
			                <font fontName="Noto Sans Gujarati" size="12" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
			            </textElement>
			            <textFieldExpression><![CDATA["કુલ જાવક : ₹ " + $P{totalOutflow}]]></textFieldExpression>
			        </textField>
			    </frame>
            </frame>

            <textField>
                <reportElement positionType="Float" x="0" y="235" width="535" height="30">
                    <propertyExpression name="net.sf.jasperreports.style.forecolor"><![CDATA[$P{closingBal} < 0 ? "#FF0000" : "#006400"]]></propertyExpression>
                </reportElement>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Noto Sans Gujarati" size="16" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                </textElement>
                <textFieldExpression><![CDATA["બી પુરાંત : ₹ " + $P{closingBal} + "/-"]]></textFieldExpression>
            </textField>

            <break>
				<reportElement x="0" y="270" width="100" height="1"/>
			</break>
			<subreport>
				<reportElement positionType="Float" x="0" y="280" width="260" height="40"/>
				<subreportParameter name="tableTitle">
					<subreportParameterExpression>
						<![CDATA["નવીન મેમ્બર નું લીસ્ટ"]]>
					</subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="hasAmount">
					<subreportParameterExpression>
						<![CDATA[false]]>
					</subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression>
					<![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{NewMembersData})]]>
				</dataSourceExpression>
				<subreportExpression><![CDATA[$P{TableSubreportObject}]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="275" y="280" width="260" height="40"/>
				<subreportParameter name="tableTitle">
					<subreportParameterExpression>
						<![CDATA["ચાલુ મહીના માં લોન પાસ થયેલ મેમ્બર નું લીસ્ટ"]]>
					</subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="hasAmount">
					<subreportParameterExpression>
						<![CDATA[false]]>
					</subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression>
					<![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{NewLoansData})]]>
				</dataSourceExpression>
				<subreportExpression><![CDATA[$P{TableSubreportObject}]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="0" y="330" width="260" height="40"/>
				<subreportParameter name="tableTitle">
					<subreportParameterExpression>
						<![CDATA["ફુલ પમેન્ટસ નું લીસ્ટ"]]>
					</subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="hasAmount">
					<subreportParameterExpression>
						<![CDATA[true]]>
					</subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression>
					<![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{FullPaymentsData})]]>
				</dataSourceExpression>
				<subreportExpression><![CDATA[$P{TableSubreportObject}]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="275" y="330" width="260" height="40"/>
				<subreportParameter name="tableTitle">
					<subreportParameterExpression>
						<![CDATA["ફી રીફંડ કરેલ મેમ્બર નું લીસ્ટ"]]>
					</subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="hasAmount">
					<subreportParameterExpression>
						<![CDATA[true]]>
					</subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression>
					<![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{RefundsData})]]>
				</dataSourceExpression>
				<subreportExpression><![CDATA[$P{TableSubreportObject}]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="0" y="380" width="260" height="40"/>
				<subreportParameter name="tableTitle">
					<subreportParameterExpression>
						<![CDATA["ગત મહીને પાસ થયેલ લોન ના હફ્તા ની લીસ્ટ"]]>
					</subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="hasAmount">
					<subreportParameterExpression>
						<![CDATA[true]]>
					</subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression>
					<![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{PrevMonthLoansData})]]>
				</dataSourceExpression>
				<subreportExpression><![CDATA[$P{TableSubreportObject}]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="275" y="380" width="260" height="40"/>
				<subreportParameter name="tableTitle">
					<subreportParameterExpression>
						<![CDATA["કેન્સલ મેમ્બર નું લીસ્ટ"]]>
					</subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="hasAmount">
					<subreportParameterExpression>
						<![CDATA[false]]>
					</subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression>
					<![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{CancelledMembersData})]]>
				</dataSourceExpression>
				<subreportExpression><![CDATA[$P{TableSubreportObject}]]></subreportExpression>
			</subreport>
        </band>
    </summary>
</jasperReport>