<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" 
    name="LoanWitnessBook" pageWidth="595" pageHeight="842" columnWidth="575" 
    leftMargin="10" rightMargin="10" topMargin="10" bottomMargin="10">

    <property name="net.sf.jasperreports.default.font.name" value="Noto Sans Gujarati"/>

    <parameter name="monthYear" class="java.lang.String"/>

    <field name="memberNo" class="java.lang.Integer"/>
    <field name="fullNameGuj" class="java.lang.String"/>
    <field name="loanAmount" class="java.lang.Long"/>
    <field name="loanDate" class="java.time.LocalDate"/>

    <variable name="recordCount" class="java.lang.Integer" resetType="Group" resetGroup="BreakGroup" calculation="Count">
        <variableExpression><![CDATA[$F{memberNo}]]></variableExpression>
    </variable>

    <group name="BreakGroup" isStartNewPage="true">
        <groupExpression><![CDATA[new Integer(($V{REPORT_COUNT} - 1) / 6)]]></groupExpression>
    </group>

    <title>
        <band height="70">
            <staticText>
                <reportElement x="0" y="0" width="575" height="25" forecolor="#000000"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Noto Sans Gujarati" size="16" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                </textElement>
                <text><![CDATA[સહકાર સોસાયટી બાદરગઢ]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="25" width="575" height="20" forecolor="#000000"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Noto Sans Gujarati" size="12" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                </textElement>
                <text><![CDATA[લોન જામીન બુક (Loan Witness Book)]]></text>
            </staticText>
            <textField>
                <reportElement x="0" y="45" width="575" height="15" forecolor="#000000"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Noto Sans Gujarati" size="10" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                </textElement>
                <textFieldExpression><![CDATA["માસ: " + $P{monthYear}]]></textFieldExpression>
            </textField>            
        </band>
    </title>

    <detail>
        <band height="121" splitType="Stretch">
            <frame>
                <reportElement x="0" y="2" width="575" height="116"/>
                <box>
                    <pen lineWidth="1.0" lineColor="#000000"/>
                </box>
                
                <frame>
                    <reportElement mode="Opaque" x="0" y="0" width="575" height="28" backcolor="#F2F2F2"/>
                    <box><bottomPen lineWidth="1.0" lineColor="#000000"/></box>
                    <textField>
                        <reportElement x="0" y="0" width="575" height="28" forecolor="#000000"/>
                        <textElement verticalAlignment="Middle">
                            <font fontName="Noto Sans Gujarati" size="11" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
                            <paragraph leftIndent="10"/>
                        </textElement>
                        <textFieldExpression><![CDATA["સભ્ય નં: " + $F{memberNo} + "    |    " + $F{fullNameGuj}]]></textFieldExpression>
                    </textField>
                </frame>

                <frame>
                    <reportElement x="0" y="28" width="125" height="88"/>
                    <box><rightPen lineWidth="1.0" lineColor="#000000"/></box>
                    <staticText>
                        <reportElement x="8" y="8" width="110" height="12" forecolor="#000000"/>
                        <textElement><font fontName="Noto Sans Gujarati" size="8" isBold="true"/></textElement>
                        <text><![CDATA[લોન રકમ]]></text>
                    </staticText>
                    <textField pattern="###0">
                        <reportElement x="8" y="20" width="110" height="22" forecolor="#000000"/>
                        <textElement verticalAlignment="Middle">
                            <font fontName="Noto Sans Gujarati" size="12" isBold="true"/>
                        </textElement>
                        <textFieldExpression><![CDATA[$F{loanAmount}]]></textFieldExpression>
                    </textField>
                    <staticText>
                        <reportElement x="8" y="50" width="110" height="12" forecolor="#000000"/>
                        <textElement><font fontName="Noto Sans Gujarati" size="8" isBold="true"/></textElement>
                        <text><![CDATA[તારીખ]]></text>
                    </staticText>
                    <textField pattern="dd-MM-yyyy">
                        <reportElement x="8" y="62" width="110" height="15" forecolor="#000000"/>
                        <textElement verticalAlignment="Middle">
                            <font fontName="Noto Sans Gujarati" size="11" isBold="true"/>
                        </textElement>
                        <textFieldExpression><![CDATA[$F{loanDate}.format(java.time.format.DateTimeFormatter.ofPattern("dd-MM-yyyy"))]]></textFieldExpression>
                    </textField>
                </frame>

                <frame>
                    <reportElement x="125" y="28" width="450" height="88"/>
                    <frame>
                        <reportElement x="0" y="0" width="450" height="22"/>
                        <box><bottomPen lineWidth="0.5" lineColor="#000000"/></box>
                        <staticText>
                            <reportElement x="8" y="0" width="435" height="22" forecolor="#000000"/>
                            <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" isBold="true"/></textElement>
                            <text><![CDATA[રોકડ રકમ સ્વીકારનારની સહી:]]></text>
                        </staticText>
                    </frame>
                    <frame>
                        <reportElement x="0" y="22" width="450" height="22"/>
                        <box><bottomPen lineWidth="0.5" lineColor="#000000"/></box>
                        <staticText>
                            <reportElement x="8" y="0" width="80" height="22"/>
                            <box><rightPen lineWidth="1.0" lineColor="#000000"/></box>
                            <textElement textAlignment="Left" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" isBold="true"/></textElement>
                            <text><![CDATA[જામીન નં-૧:]]></text>
                        </staticText>
                        <staticText>
                            <reportElement x="95" y="0" width="330" height="22" forecolor="#000000"/>
                            <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" isBold="true"/></textElement>
                            <text><![CDATA[નામ :]]></text>
                        </staticText>
                    </frame>
                    <frame>
                        <reportElement x="0" y="44" width="450" height="22"/>
                        <box><bottomPen lineWidth="0.5" lineColor="#000000"/></box>
                        <staticText>
                            <reportElement x="8" y="0" width="80" height="22"/>
                            <box><rightPen lineWidth="1.0" lineColor="#000000"/></box>
                            <textElement textAlignment="Left" verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" isBold="true"/></textElement>
                            <text><![CDATA[જામીન નં-૨:]]></text>
                        </staticText>
                        <staticText>
                            <reportElement x="95" y="0" width="330" height="22" forecolor="#000000"/>
                            <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" isBold="true"/></textElement>
                            <text><![CDATA[નામ :]]></text>
                        </staticText>
                    </frame>
                    <frame>
                        <reportElement x="0" y="66" width="450" height="22"/>
                        <staticText>
                            <reportElement x="8" y="0" width="435" height="22" forecolor="#000000"/>
                            <textElement verticalAlignment="Middle"><font fontName="Noto Sans Gujarati" size="9" isBold="true"/></textElement>
                            <text><![CDATA[ઓથોરીટી નું નામ :]]></text>
                        </staticText>
                    </frame>
                </frame>
            </frame>
        </band>
    </detail>

    <pageFooter>
        <band height="25">
            <textField>
                <reportElement x="475" y="5" width="100" height="20" forecolor="#000000"/>
                <textElement textAlignment="Right"><font size="8"/></textElement>
                <textFieldExpression><![CDATA["પાનું: " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
            <textField pattern="dd-MMM-yyyy hh:mm a">
                <reportElement x="0" y="5" width="250" height="20" forecolor="#000000"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>
</jasperReport>