<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox spacing="10" style="-fx-background-color: #f1f3f5;" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.badargadh.sahkar.controller.MemberController">
    <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>

    <HBox alignment="CENTER_LEFT" spacing="20">
        <Label text="Member Directory" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

        <TextField fx:id="txtSearch" promptText="ðŸ” Search name or number..."
                   prefWidth="300" prefHeight="28" style="-fx-font-size: 12; -fx-background-radius: 5;"/>

        <Button text="Load All Members" onAction="#loadDynamicData" prefHeight="35"
			style="-fx-background-color: #2c3e50; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;"/>

        <Button onAction="#handleExportPdf" text="Export PDF" prefHeight="35"
        	style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" />

        <Region HBox.hgrow="ALWAYS" />

        <VBox alignment="CENTER_RIGHT" style="-fx-background-color: #2c3e50; -fx-padding: 10 20; -fx-background-radius: 10;">
            <Label text="TOTAL MEMBERS" style="-fx-text-fill: #bdc3c7; -fx-font-size: 10; -fx-font-weight: bold;"/>
            <Label fx:id="lblTotalMembers" text="0" style="-fx-text-fill: #f1c40f; -fx-font-size: 20; -fx-font-weight: bold;"/>
        </VBox>

    </HBox>

    <HBox spacing="10" VBox.vgrow="ALWAYS">
        <VBox HBox.hgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #dee2e6; -fx-padding: 5;">
            <TableView fx:id="tblMembers" VBox.vgrow="ALWAYS" styleClass="compact-table">
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
                <columns>
                    <TableColumn fx:id="colMemberNo" text="Member No" prefWidth="50"/>
                    <TableColumn fx:id="colFullName" text="Member Name" prefWidth="250"/>
                    <TableColumn fx:id="colTotalFees" text="Total Fees" prefWidth="80"/>
                    <TableColumn fx:id="colPendingLoan" text="Pending Loan Amount" prefWidth="80"/>
                    <TableColumn fx:id="colEmi" text="EMI Amount" prefWidth="100"/>
                    <TableColumn fx:id="colCancelledDate" text="Cancelled Date" prefWidth="100"/>
                    <TableColumn fx:id="colStatus" text="Status" prefWidth="100"/>
                    <TableColumn fx:id="colAction" text="Actions" prefWidth="180.0" />
                </columns>
            </TableView>
        </VBox>

        <VBox prefWidth="300" spacing="10" style="-fx-background-color: white; -fx-background-radius: 5; -fx-border-color: #dee2e6; -fx-padding: 12;">
            <VBox prefWidth="420" spacing="15" styleClass="material-card">
                <Label text="Member Details" styleClass="form-label" />

                <VBox VBox.vgrow="ALWAYS">
                    <VBox spacing="20">

                        <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: #ffffff; -fx-border-color: #e2e8f0; -fx-border-radius: 8;">
                            <Label text="àª¸àª­à«àª¯ àª¨à«‹ àª¨àª‚àª¬àª°"/>
                            <TextField fx:id="txtMemberNo" styleClass="text-field" style="-fx-background-color: #f1f3f4;" />

                            <Label text="àª¸àª­à«àª¯ àª¨à«àª‚ àª—àª¾àª®" />
                            <ComboBox fx:id="cmbVillage" maxWidth="Infinity" styleClass="combo-box" />
                        </VBox>

                        <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: #ffffff; -fx-border-color: #e2e8f0; -fx-border-radius: 8;">
                            <Label text="ENGLISH DETAILS" style="-fx-font-size: 10; -fx-font-weight: 900; -fx-text-fill: #64748b;"/>
                            <TextField fx:id="txtFirstName" promptText="First Name" styleClass="text-field"/>
                            <TextField fx:id="txtMiddleName" promptText="Middle Name" styleClass="text-field"/>
                            <ComboBox fx:id="cmbLastName" maxWidth="Infinity" promptText="Select Last Name" />
                            <ComboBox fx:id="cmbBranchName" maxWidth="Infinity" promptText="Select Branch"/>
                        </VBox>

                        <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: #f0fdfa; -fx-border-color: #b2dfdb; -fx-border-radius: 8;">
                            <Label text="àª—à«àªœàª°àª¾àª¤à«€ àªµàª¿àª—àª¤à«‹ (Auto-Filled)" style="-fx-font-size: 11; -fx-font-weight: 900; -fx-text-fill: #0d9488;"/>
                            <TextField fx:id="txtGujFirstName" editable="false" focusTraversable="false" promptText="àª¸àª­à«àª¯ àª¨à«àª‚ àª¨àª¾àª®" styleClass="text-field"  />
                            <TextField fx:id="txtGujMiddleName" editable="false" focusTraversable="false" promptText="àªªàª¿àª¤àª¾àª¨à«àª‚ àª¨àª¾àª®" styleClass="text-field"  />
                            <TextField fx:id="txtGujLastName" editable="false" focusTraversable="false" promptText="àª…àªŸàª•" styleClass="text-field"  />
                            <TextField fx:id="txtGujUpName" editable="false" focusTraversable="false" promptText="àª‰àªªàª¨àª¾àª®" styleClass="text-field" />
                        </VBox>
                    </VBox>
                </VBox>

                <HBox spacing="12" style="-fx-padding: 10 0 0 0;" HBox.hgrow="ALWAYS">
                    <Button text="SAVE" onAction="#handleSave"  prefHeight="30" maxWidth="Infinity" HBox.hgrow="ALWAYS"
                            style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" />
                    <Button text="RESET" onAction="#handleClear" prefHeight="30" maxWidth="Infinity" HBox.hgrow="ALWAYS"
                            style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;"/>
                </HBox>
            </VBox>
        </VBox>
    </HBox>
</VBox>